{% extends 'base.html.twig' %}

{% block title %}Catalogue - EventShop{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="fw-bold display-5">Catalogue</h1>
    </div>

    <div class="row g-4">
        {% for event in events %}
            
            {# --- 1. DÉFINITION MANUELLE DE L'IMAGE --- #}
            {% set photo = '/images/default.jpeg' %}
            
            {# Adapte ici si besoin, mais laisse comme ça pour tester #}
            {% if event.id == 1 %}
                {% set photo = '/images/1.jpeg' %}
            {% elseif event.id == 2 %}
                {% set photo = '/images/2.jpg' %}
            {% elseif event.id == 3 %}
                {% set photo = '/images/3.jpeg' %}
            {% elseif event.id == 4 %}
                {% set photo = '/images/4.jpeg' %}
            {% endif %}

            <div class="col-md-6 col-lg-4">
                <div class="card h-100 shadow-sm">
                    
                    {# --- 2. LE DEBUGGER (CARRÉ ROUGE) --- #}
                    {# C'est ça qui va nous donner la réponse ! #}
                    <div class="position-absolute top-0 start-0 bg-danger text-white p-2 fw-bold" style="z-index: 100;">
                        ID: {{ event.id }}
                    </div>

                    {# --- 3. L'IMAGE --- #}
                    <div style="height: 250px; overflow: hidden;">
                        <img src="{{ photo }}" 
                             class="w-100 h-100" 
                             style="object-fit: cover;"
                             alt="Event Image">
                    </div>

                    <div class="card-body">
                        <h5 class="card-title">{{ event.title }}</h5>
                        <p class="text-muted">Image chargée : {{ photo }}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}